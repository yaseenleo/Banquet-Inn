<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Banquet Home</title>
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.3/css/all.css" integrity="sha384-UHRtZLI+pbxtHCWp1t77Bi1L4ZtiqrqD80Kn4Z8NTSRyMA2Fd33n5dQ8lWUE00s/"
        crossorigin="anonymous">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
    <!-- Bootstrap core CSS -->
    <link href="../css/bootstrap.min.css" rel="stylesheet">
    <!-- Material Design Bootstrap -->
    <link href="../css/mdb.min.css" rel="stylesheet">
    <!-- Your custom styles (optional) -->
    <link href="../css/style.css" rel="stylesheet">
</head>

<body>
    <!--Navbar-->
    <nav class="navbar navbar-expand-lg navbar-dark primary-color">

        <!-- Navbar brand -->
        <a class="navbar-brand" href="/">Banquet Inn</a>

        <!-- Collapse button -->
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#basicExampleNav"
            aria-controls="basicExampleNav" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        <!-- Collapsible content -->
        <div class="collapse navbar-collapse" id="basicExampleNav">

            <!-- Links -->
            <ul class="navbar-nav mx-auto">
                <li class="nav-item active">
                    <a class="nav-link" href="/">Home</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#">Features</a>
                </li>

                <!-- Dropdown -->
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" id="navbarDropdownMenuLink" data-toggle="dropdown"
                        aria-haspopup="true" aria-expanded="false">Products</a>
                    <div class="dropdown-menu dropdown-primary" aria-labelledby="navbarDropdownMenuLink">
                        <a class="dropdown-item" href="/home">Banquet
                            <span class="sr-only">(current)</span>
                        </a>
                        <a class="dropdown-item" href="#">Catering</a>
                        <a class="dropdown-item" href="#">Transportation</a>
                    </div>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="/gallery">Gallery</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="/about">About Us</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="/contact">Contact Us</a>
                </li>

            </ul>
            <!-- Links -->

            <!-- Links -->

            <ul class="navbar-nav md-auto">
                <li class="nav-item">
                    <a href="/signup" class="nav-link">Sign Up</a>
                </li>
                <li class="nav-item">
                    <a href="/signin" class="nav-link">Sign In</a>
                </li>
                <li class="nav-item">
                    <a href="/signin" class="nav-link" id="logout">Log Out</a>
                </li>
            </ul>
        </div>
        <!-- Collapsible content -->


    </nav>
    <!--/.Navbar-->

    <div class="container-fluid animated fadeIn">
        <div class="container">
            <div class="banq-name animated rubberBand">
                <h1 class="text-center" id="banq-name">Banquet Name</h1>
            </div>

            <div class="banq-carousel">

                <div id="carouselExampleFade" class="carousel slide carousel-fade" data-ride="carousel">
                    <div class="carousel-inner">
                        <div class="carousel-item active">
                            <img class="d-block w-100" src="https://mdbootstrap.com/img/Photos/Slides/img%20(15).jpg"
                                alt="First slide">
                        </div>
                        <div class="carousel-item">
                            <img class="d-block w-100" src="https://mdbootstrap.com/img/Photos/Slides/img%20(16).jpg"
                                alt="Second slide">
                        </div>
                        <div class="carousel-item">
                            <img class="d-block w-100" src="https://mdbootstrap.com/img/Photos/Slides/img%20(17).jpg"
                                alt="Third slide">
                        </div>
                    </div>
                    <a class="carousel-control-prev" href="#carouselExampleFade" role="button" data-slide="prev">
                        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                        <span class="sr-only">Previous</span>
                    </a>
                    <a class="carousel-control-next" href="#carouselExampleFade" role="button" data-slide="next">
                        <span class="carousel-control-next-icon" aria-hidden="true"></span>
                        <span class="sr-only">Next</span>
                    </a>
                </div>

            </div>


        </div>
    </div>

    <!-- banquet info -->

    <div class="container-fluid animated fadeIn">
        <div class="container">
            <div class="banquet-detail">
                <div class="banquet-detail-text">
                    <h2 class="text-center">Details</h2>
                </div>

                <div class="row">

                    <div class=" col-md-4 col-lg-4">
                        <div class="banq-about">
                            <h4>About</h4>
                            <p id="banq-about">Lorem ipsum dolor sit amet consectetur adipisicing elit. Quaerat saepe
                                quia harum
                                dolore, ad ab magnam voluptatum unde cumque, veniam tempore soluta quae sapiente ipsa
                                labore deserunt autem. Inventore, velit.</p>
                        </div>
                    </div>

                    <div class=" col-md-4 col-lg-4">
                        <div class="banq-overview">
                            <h4>Overview</h4>

                            <div class="banq-overview-content">
                                <p><span><i class="far fa-building"></i></span> Banquet</p>
                                <p><span><i class="fas fa-map-marker-alt"></i></span> <span id="banq-location">location</span></p>
                                <p><span><i class="fas fa-users"></i></span> <span id="banq-capacity">capacity</span></p>
                                <p><span><i class="fas fa-utensils"></i></span> <span id="banq-catering">catering /
                                        self-service</span></p>

                            </div>

                        </div>
                    </div>

                    <div class=" col-md-4 col-lg-4">
                        <div class="banq-map">
                            <h4>Map</h4>

                            <!--Google map-->
                            <div id="map-container-google-2" class="z-depth-1-half map-container">
                                <iframe src="https://maps.google.com/maps?q=chicago&t=&z=13&ie=UTF8&iwloc=&output=embed"
                                    frameborder="0" style="border:0" allowfullscreen></iframe>
                            </div>

                            <!--Google Maps-->
                        </div>
                    </div>

                </div>
            </div>
        </div>
    </div>
    <div>
        <div class="container-fluid animated fadeIn">
            <div class="container banq-services">

                <div class="banq-service">
                    <div class="row">
                        <div class="col-sm-6 col-md-6 ">
                            <div class="">
                                <h1>Amenities &amp; Services</h1>
                            </div>
                            <div id="banq-service-list">
                            </div>
                        </div>

                        <div class="col-sm-6 col-md-6">
                            <div class="">
                                <h1>Contact Us</h1>
                            </div>
                            <div class="banq-contact">
                                <p>name: <span id="name">Name of responsible person</span></p>
                                <p>Contact: <span id="phone">Phone Number</span></p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="verticle-line-breaker">

            </div>

            <div class="booking-form text-center animated fadeIn">
                <div class="">
                    <h2>Book now your event</h2>
                    <p class="text-muted">click the below button to book your event</p>
                </div>
                <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#centralModalSuccess">Book
                    Now</button>
            </div>


        </div>
    </div>



    <!-- Footer -->
    <footer class="page-footer font-small unique-color-dark animated fadeIn">

        <div style="background-color: #6351ce;">
            <div class="container">

                <!-- Grid row-->
                <div class="row py-4 d-flex align-items-center">

                    <!-- Grid column -->
                    <div class="col-md-6 col-lg-5 text-center text-md-left mb-4 mb-md-0">
                        <h6 class="mb-0">Get connected with us on social networks!</h6>
                    </div>
                    <!-- Grid column -->

                    <!-- Grid column -->
                    <div class="col-md-6 col-lg-7 text-center text-md-right">

                        <!-- Facebook -->
                        <a class="fb-ic">
                            <i class="fa fa-facebook white-text mr-4"> </i>
                        </a>
                        <!-- Twitter -->
                        <a class="tw-ic">
                            <i class="fa fa-twitter white-text mr-4"> </i>
                        </a>
                        <!-- Google +-->
                        <a class="gplus-ic">
                            <i class="fa fa-google-plus white-text mr-4"> </i>
                        </a>
                        <!--Linkedin -->
                        <a class="li-ic">
                            <i class="fa fa-linkedin white-text mr-4"> </i>
                        </a>
                        <!--Instagram-->
                        <a class="ins-ic">
                            <i class="fa fa-instagram white-text"> </i>
                        </a>

                    </div>
                    <!-- Grid column -->

                </div>
                <!-- Grid row-->

            </div>
        </div>

        <!-- Footer Links -->
        <div class="container text-center text-md-left mt-5">

            <!-- Grid row -->
            <div class="row mt-3">

                <!-- Grid column -->
                <div class="col-md-3 col-lg-4 col-xl-3 mx-auto mb-4">

                    <!-- Content -->
                    <h6 class="text-uppercase font-weight-bold">Banquet Inn</h6>
                    <hr class="deep-purple accent-2 mb-4 mt-0 d-inline-block mx-auto" style="width: 60px;">
                    <p>Banquet Inn is a marraige organizing website were you can find all you need to organize a
                        maariage
                        ceremony right before your door step</p>

                </div>
                <!-- Grid column -->

                <!-- Grid column -->
                <div class="col-md-2 col-lg-2 col-xl-2 mx-auto mb-4">

                    <!-- Links -->
                    <h6 class="text-uppercase font-weight-bold">Products</h6>
                    <hr class="deep-purple accent-2 mb-4 mt-0 d-inline-block mx-auto" style="width: 60px;">
                    <p>
                        <a href="#!">Banquet</a>
                    </p>
                    <p>
                        <a href="#!">Catering</a>
                    </p>
                    <p>
                        <a href="#!">Transport</a>
                    </p>

                </div>
                <!-- Grid column -->

                <!-- Grid column -->
                <div class="col-md-3 col-lg-2 col-xl-2 mx-auto mb-4">

                    <!-- Links -->
                    <h6 class="text-uppercase font-weight-bold">Useful links</h6>
                    <hr class="deep-purple accent-2 mb-4 mt-0 d-inline-block mx-auto" style="width: 60px;">
                    <p>
                        <a href="#!">Your Account</a>
                    </p>
                    <p>
                        <a href="#!">Become an Affiliate</a>
                    </p>
                    <p>
                        <a href="#!">Shipping Rates</a>
                    </p>
                    <p>
                        <a href="#!">Help</a>
                    </p>

                </div>
                <!-- Grid column -->

                <!-- Grid column -->
                <div class="col-md-4 col-lg-3 col-xl-3 mx-auto mb-md-0 mb-4">

                    <!-- Links -->
                    <h6 class="text-uppercase font-weight-bold">Contact</h6>
                    <hr class="deep-purple accent-2 mb-4 mt-0 d-inline-block mx-auto" style="width: 60px;">
                    <p>
                        <i class="fa fa-home mr-3"></i> New York, NY 10012, US</p>
                    <p>
                        <i class="fa fa-envelope mr-3"></i> info@example.com</p>
                    <p>
                        <i class="fa fa-phone mr-3"></i> + 01 234 567 88</p>
                    <p>
                        <i class="fa fa-print mr-3"></i> + 01 234 567 89</p>

                </div>
                <!-- Grid column -->

            </div>
            <!-- Grid row -->

        </div>
        <!-- Footer Links -->

        <!-- Copyright -->
        <div class="footer-copyright text-center py-3">Â© 2018 Copyright:
            <a href="https://mdbootstrap.com/bootstrap-tutorial/"> Banquet Inn</a>
        </div>
        <!-- Copyright -->

    </footer>
    <!-- Footer -->


    <!-- Central Modal Medium Success -->
    <form action='/book' method="POST">

        <div class="modal fade" id="centralModalSuccess" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"
            aria-hidden="true">
            <div class="modal-dialog modal-notify modal-lg modal-primary " role="document">
                <!--Content-->
                <div class="modal-content">
                    <!--Header-->
                    <div class="modal-header">
                        <div class="modal-head-center">
                            <p class="heading lead">Booking Form</p>
                        </div>

                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true" class="white-text">&times;</span>
                        </button>
                    </div>

                    <!--Body-->
                    <div class="modal-body">
                        <div class="text-center">
                            <i class="far fa-file-alt fa-4x mb-3 animated rotateIn"></i>
                        </div>
                        <div class="container modalBookingForm">
                            <div class="row">
                                <div class="col-sm-12">
                                    <div class="md-form">
                                        <input type="hidden" id="banq_id" name='id' class="form-control">
                                        <input type="text" id="username" name='name' class="form-control">
                                        <label for="username">Enter Your Name</label>
                                    </div>
                                </div>
                            </div>

                            <div class="row">
                                <div class="col-sm-12">
                                    <div class="md-form">
                                        <input type="text" id="useremail" name='email' class="form-control">
                                        <label for="useremail">Enter Your Email Address</label>
                                    </div>
                                </div>
                            </div>

                            <div class="row">
                                <div class="col-sm-12">
                                    <div class="md-form">
                                        <input type="text" id="userphone" name='phone' class="form-control">
                                        <label for="userphone">Enter Your Phone No.</label>
                                    </div>
                                </div>
                            </div>

                            <div class="row">
                                <div class="col-sm-12">
                                    <div class="md-form">
                                        <div class="row">
                                            <div class="col-3">
                                                <label for="userdate">Booking Date</label>
                                            </div>
                                            <div class="col-9">
                                                <input type="date" id="userdate" name='date' class="form-control">
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>



                            <div class="row">
                                <div class="col-sm-12">
                                    <div class="row">
                                        <div class="col-3">
                                            <div class="md-form">
                                                <label for="people">Range:</label>
                                            </div>
                                        </div>
                                        <div class="col-9">
                                            <div class="md-form">
                                                <input type="text" id="people" class="form-control" name='quantity'>
                                                <label for="people">Enter Capacity Of People</label>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!--Footer-->
                    <div class="modal-footer justify-content-center">
                        <button type="submit" class="btn btn-primary">Send <i class="fa fa-paper-plane ml-1"></i></button>
                        <a type="button" class="btn btn-outline-primary waves-effect" data-dismiss="modal">No,
                            thanks</a>
                    </div>
                </div>
                <!--/.Content-->
            </div>
        </div>
    </form>

    <!-- Central Modal Medium Success-->


</body>
<!-- SCRIPTS -->
<!-- firebase -->
<!-- <script src="https://www.gstatic.com/firebasejs/5.7.0/firebase.js"></script>
<script src="../js/app.js" type="text/javascript"></script>
<script src="../js/custom-js/auth.js"></script> -->
<!-- JQuery -->
<script type="text/javascript" src="../js/jquery-3.3.1.min.js"></script>
<!-- Bootstrap tooltips -->
<script type="text/javascript" src="../js/popper.min.js"></script>
<!-- Bootstrap core JavaScript -->
<script type="text/javascript" src="../js/bootstrap.min.js"></script>
<!-- MDB core JavaScript -->
<script type="text/javascript" src="../js/mdb.min.js"></script>
<script>
    function fetch_info() {
        let id = window.location.href.substr(window.location.href.indexOf('/banquet/') + 9, 24);
        let xhttp = new XMLHttpRequest();
        xhttp.open('GET', '/get_banquets', true);
        xhttp.send();
        xhttp.onreadystatechange = function () {
            if (this.readyState == 4 && this.status == 200) {
                console.log(this.responseText);
                let banqs = JSON.parse(this.responseText).banquets;
                let str = ``;
                // console.log('banq details', banqs);
                banqs.forEach((banq) => {
                    if (banq._id === id) {
                        console.log('banq', banq);
                        document.getElementById('banq-name').innerHTML = banq.name;
                        document.getElementById('banq-about').innerHTML = banq.about;
                        document.getElementById('banq-location').innerHTML = banq.address;
                        document.getElementById('banq-capacity').innerHTML = banq.quantity;
                        document.getElementById('name').innerHTML = banq.owner;
                        document.getElementById('phone').innerHTML = banq.phone;
                        document.getElementById('banq_id').value = banq._id;
                        let ser = '<ul>';
                        banq.services.split(',').forEach((service) => {
                            ser += `<li>` + service + `</li>`;
                        });
                        ser += `</ul>`;


                        document.getElementById('banq-service-list').innerHTML = ser;


                    }
                });
            }
        }
    }
    fetch_info();
</script>

</html>